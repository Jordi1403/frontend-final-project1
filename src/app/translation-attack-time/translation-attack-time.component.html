<div class="game-container" *ngIf="!gameOver">
    <h2>תרגום נגד הזמן</h2>
    <p>זמן נותר: {{ timeLeft }} שניות</p>
    <mat-progress-bar
      mode="determinate"
      [value]="(timeLeft / totalTime) * 100"
    ></mat-progress-bar>
 
    <div class="word-container">
      <p>תרגם את המילה הבאה:</p>
      <h3>{{ words[currentWordIndex]?.origin }}</h3>
      <mat-form-field appearance="fill">
        <mat-label>התרגום שלך</mat-label>
        <input
          matInput
          [(ngModel)]="userAnswer"
          (keyup.enter)="submitAnswer()"
          autocomplete="off"
        />
      </mat-form-field>
 
      <div class="button-group">
        <button mat-raised-button color="primary" (click)="submitAnswer()">
          שלח
        </button>
        <button mat-raised-button color="warn" (click)="resetGame()">
          איפוס
        </button>
      </div>
    </div>
 
    <mat-progress-bar
      mode="determinate"
      [value]="progressValue"
    ></mat-progress-bar>
    <p>התקדמות: {{ currentWordIndex + 1 }}/{{ words.length }}</p>
</div>

<!-- Loading State -->
<div *ngIf="loading">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  <p>Loading game data, please wait...</p>
</div>

<!-- Error State -->
<div *ngIf="errorMessage">
  <p>{{ errorMessage }}</p>
</div>

<!-- If no category is found -->
<ng-template #noCategory>
    <div class="no-category">
      <p>This category does not have enough words. Please add more words or choose a different category.</p>
      <app-exit-button class="exit-button"></app-exit-button>
    </div>
</ng-template>
