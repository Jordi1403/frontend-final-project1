<div class="mixed-letters-container">
  <div class="exit-button">
    <button mat-icon-button (click)="exitGame()">
      <mat-icon>exit_to_app</mat-icon>
    </button>
  </div>

  <div class="score-display">
    <mat-icon>paid</mat-icon>
    <span>Score: {{ score }}</span>
  </div>

  <h1>Mixed Letters Game</h1>

  <div *ngIf="currentCategory">
    <h2>{{ currentCategory.name }}</h2>

    <div>
      <h3>Unscramble the word:</h3>

      <p>{{ scrambledWord }}</p>

      <p>
        <strong>Translate:</strong>
        {{ currentCategory.words[currentWordIndex]?.target }}
      </p>

      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>

      <input [(ngModel)]="userAnswer" placeholder="Enter your answer" />
      <button mat-raised-button color="primary" (click)="submitAnswer()">
        Submit
      </button>
      <button mat-raised-button color="warn" (click)="resetInput()">
        Reset
      </button>
    </div>

    <app-progress-bar
      [current]="currentWordIndex"
      [total]="currentCategory.words.length"
    ></app-progress-bar>
  </div>

  <div *ngIf="!currentCategory" class="no-category">
    <p>No category found or invalid category ID.</p>
  </div>
</div>
